const verses = [
    {
        chapter: 1,
        verse: 1,
        sanskrit: "धृतराष्ट्र उवाच\nधर्मक्षेत्रे कुरुक्षेत्रे समवेता युयुत्सवः ।\nमामकाः पाण्डवाश्चैव किमकुर्वत सञ्जय ॥१॥",
        translation: "dhṛtarāṣṭra uvāca\ndharma-kṣetre kuru-kṣetre\nsamavetā yuyutsavaḥ\nmāmakāḥ pāṇḍavāś caiva\nkim akurvata sañjaya",
        translationMeanings: [
            "Dhritarashtra said",
            "in the place of pilgrimage at Kurukshetra",
            "having gathered desiring to fight",
            "my sons and the sons of Pandu",
            "O Sanjaya, what did they do?"
        ],
        wordMeanings: {
            'धृतराष्ट्र': 'Dhritarashtra - The blind king and father of the Kauravas.',
            'उवाच': 'uvāca - said',
            'धर्मक्षेत्रे': 'dharma-kṣetre - in the place of pilgrimage (Kurukshetra)',
            'कुरुक्षेत्रे': 'kuru-kṣetre - in the land of Kurus (Kurukshetra)',
            'समवेता': 'samavetā - having gathered',
            'युयुत्सवः': 'yuyutsavaḥ - desiring to fight',
            'मामकाः': 'māmakāḥ - my sons',
            'पाण्डवाश्चैव': 'pāṇḍavāḥ caiva - and the sons of Pandu',
            'किमकुर्वत': 'Kim akurvata - what did they do',
            'सञ्जय': 'sañjaya - O Sanjaya'
        },
        fullTranslations: {
            "English": "Dhṛtarāṣṭra said: O Sañjaya, after my sons and the sons of Pāṇḍu assembled in the place of pilgrimage at Kurukṣetra, desiring to fight, what did they do?",
            "Hindi": "धृतराष्ट्र बोले - हे संजय! धर्मभूमि कुरुक्षेत्र में युद्ध की इच्छा से इकट्ठे हुए मेरेे और पाण्डु के पुत्रों ने भी क्या किया?",
            "Sanskrit": "धर्मक्षेत्र इति। अत्र केचित् व्याख्याविकल्पमाहुः कुरूणां करणानां यत् क्षेत्रमनुग्राहकं अतएव सांसारिकधर्माणां सर्वेषां क्षेत्रम् उत्पत्तिनिमित्तत्वात्। अयं स परमो धर्मो यद्योगेनात्मदर्शनम् इत्यस्य च धर्मस्य क्षेत्रम् समस्तधर्माणां क्षयात् अपवर्गप्राप्त्या त्राणभूतं तदधिकारिशरीरम्।"
        },
        "youtubeLink": "https://www.youtube.com/embed/lNRJQPNnuy4?si=KHhHbJWGxcXlWYFH&controls=0&clip=UgkxAZClJr4HB5VqXDpFFlFkwP3W9DA-Ym6g&clipt=EKcsGP-bAg"
    },
    {
        chapter: 1,
        verse: 2,
        sanskrit: "सञ्जय उवाच\nदृष्ट्वा तु पाण्डवानीकं व्यूढं दुर्योधनस्तदा ।\nआचार्यमुपसङ्गम्य राजा वचनमब्रवीत् ॥२॥",
        translation: "sañjaya uvāca\ndṛṣṭvā tu pāṇḍavānīkaṁ\nvyūḍhaṁ duryodhanas tadā\nācāryam upasaṅgamya\nrājā vacanam abravīt",
        translationMeanings: [
            "Sanjaya said",
            "seeing the Pandava army",
            "arranged in military formation",
            "King Duryodhana",
            "then approached his teacher",
            "and spoke these words"
        ],
        wordMeanings: {
            'सञ्जय': 'Sanjaya - name of Dhritarashtra\'s secretary',
            'उवाच': 'uvāca - said',
            'दृष्ट्वा': 'dṛṣṭvā - seeing',
            'तु': 'tu - but',
            'पाण्डवानीकं': 'pāṇḍava-anīkam - the army of the Pandavas',
            'व्यूढं': 'vyūḍham - arranged in a military formation',
            'दुर्योधनस्तदा': 'duryodhanas tadā - then Duryodhana',
            'आचार्यमुपसङ्गम्य': 'ācāryam upasaṅgamya - approaching the teacher',
            'राजा': 'rājā - the king',
            'वचनमब्रवीत्': 'vacanam abravīt - spoke these words'
        },
        fullTranslations: {
            "English": "Sañjaya said: O King, after looking over the army gathered by the sons of Pāṇḍu, King Duryodhana went to his teacher and spoke the following words.",
            "Hindi": "संजय ने कहा - उस समय राजा दुर्योधन ने व्यूहरचना युक्त पाण्डवों की सेना को देखकर द्रोणाचार्य के पास जाकर यह वचन कहे।",
            "Sanskrit": "सञ्जय उवाच — सञ्जयः उवाच अकथयत्। दृष्ट्वा तु — निरीक्ष्य च। पाण्डवानीकं — पाण्डवसैन्यम्। व्यूढं — व्यूहरचनया स्थापितम्। दुर्योधनः — कौरवराजः। तदा — तस्मिन् समये। आचार्यं — गुरुं द्रोणम्। उपसङ्गम्य — समीपं गत्वा। राजा — नृपः। वचनं — वाक्यम्। अब्रवीत् — अवदत्।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=79&end=1021"
    },
    {
        chapter: 1,
        verse: 3,
        sanskrit: "पश्यैतां पाण्डुपुत्राणामाचार्य महतीं चमूम् ।\nव्यूढां द्रुपदपुत्रेण तव शिष्येण धीमता ॥३॥",
        translation: "paśyaitāṁ pāṇḍu-putrāṇām\nācārya mahatīṁ camūm\nvyūḍhāṁ drupada-putreṇa\ntava śiṣyeṇa dhīmatā",
        translationMeanings: [
            "Behold the sons of Pandu",
            "O teacher, [behold] the great army",
            "arranged by the son of Drupada",
             "by your intelligent disciple"
        ],
        wordMeanings: {
            'पश्यैतां': 'paśyaitāṁ - behold',
            'पाण्डुपुत्राणामाचार्य': 'pāṇḍuputrāṇām-ācārya - O teacher of the sons of Pandu',
            'महतीं': 'mahatīṁ - great',
            'चमूम्': 'camūm - army',
            'व्यूढां': 'vyūḍhāṁ - arranged',
            'द्रुपदपुत्रेण': 'drupada-putreṇa - by the son of Drupada',
            'तव': 'tava - your',
            'शिष्येण': 'śiṣyeṇa - disciple',
            'धीमता': 'dhīmatā - wise'
        },
        fullTranslations: {
            "English": "Behold the great army of the sons of Pandu, O Teacher, arranged by Drona’s wise son, the son of Drupada.",
            "Hindi": "हे आचार्य, पांडु के पुत्रों की विशाल सेना को देखो, जिसे द्रोण के बुद्धिमान शिष्य, द्रुपद के पुत्र ने व्यवस्थित किया है।",
            "Sanskrit": "पाण्डुपुत्राणाम् उत्तमं सेना यद् द्रुपदपुत्रेण धीमता तव शिष्येण व्यूहितमिति आचार्यः पश्यतु।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=1022&end=2297"
    },
    {
        "chapter": 1,
        "verse": 4,
        "sanskrit": "अत्र श‍ूरा महेष्वासा भीमार्जुनसमा युधि । युयुधानो विराटश्च द्रुपदश्च महारथः ॥४॥",
        "translation": "atra śūrā maheṣv-āsā \n bhīmārjuna-samā yudhi\n yuyudhāno virāṭaś ca\n drupadaś ca mahā-rathaḥ",
        "translationMeanings": [
            "Here are heroes, mighty archers,",
            "equal in battle to Bhima and Arjuna:",
            "Yuyudhana, Virata",
            "and Drupada, the great warrior"
        ],
        "wordMeanings": {
            "अत्र": "atra - here",
            "श‍ूरा": "śūrāḥ - heroes",
            "महेष्वासा": "mahā-iṣu-āsāḥ - mighty bowmen",
            "भीमार्जुनसमा": "bhīma-arjuna-samāḥ - equal to Bhima and Arjuna",
            "युधि": "yudhi - in the fight",
            "युयुधानो": "yuyudhānaḥ - Yuyudhana",
            "विराटश्च": "virāṭaḥ ca - and Virata",
            "द्रुपदश्च": "drupadaḥ ca - and Drupada",
            "महारथः": "mahā-rathaḥ - great fighter"
        },
        "fullTranslations": {
            "English": "Here in this army are many heroic bowmen equal in fighting to Bhima and Arjuna: great fighters like Yuyudhana, Virata and Drupada.",
            "Hindi": "इस सेना में भीम और अर्जुन के समान युद्ध में निपुण अनेक वीर धनुर्धर हैं। युयुधान, विराट तथा महारथी द्रुपद जैसे महान योद्धा भी हैं।",
            "Sanskrit": "अत्र सेनायां बहवः शूराः महाधनुर्धराः सन्ति ये भीमार्जुनसदृशाः युद्धे। युयुधानः विराटः द्रुपदश्च महारथाः अपि विद्यन्ते।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=2298&end=2403"
    },
    {
        "chapter": 1,
        "verse": 5,
        "sanskrit": "धृष्टकेतुश्चेकितानः काशिराजश्च वीर्यवान् । पुरुजित्कुन्तिभोजश्च शैब्यश्च नरपुङ्गवः ॥५॥",
        "translation": "dhṛṣṭaketuś cekitānaḥ\n kāśirājaś ca vīryavān\n purujit kuntibhojaś ca\n śaibyaś ca nara-puṅgavaḥ",
        "translationMeanings": [
            "Dhṛṣṭaketu, Cekitāna",
            "and the valiant king of Kāśī(Kāśirāja)",
            "Purujit, Kuntibhoja",
            "and Śaibya, the bull among men (a great hero)"
        ],
        "wordMeanings": {
            "धृष्टकेतुश्चेकितानः": "dhṛṣṭaketuḥ cekitānaḥ — Dhṛṣṭaketu Cekitāna",
            "काशिराजश्च": "kāśirājaś ca - and the king of Kāśī",
            "वीर्यवान्": "vīrya-vān - very powerful",
            "पुरुजित्कुन्तिभोजश्च": "purujit kuntibhojaś ca - Purujit and Kuntibhoja",
            "शैब्यश्च": "śaibyaś ca - and Śaibya",
            "नरपुङ्गवः": "nara-puṅgavaḥ - hero in human society"
        },
        "fullTranslations": {
            "English": "There are also great heroic, powerful fighters like Dhṛṣṭaketu, Cekitāna, Kāśirāja, Purujit, Kuntibhoja and Śaibya, who is a hero in human society.",
            "Hindi": "वहाँ धृष्टकेतु, चेकितान, शक्तिशाली काशिराज, पुरुजित, कुन्तिभोज और मनुष्यों में श्रेष्ठ शैब्य जैसे महान वीर योद्धा भी हैं।",
            "Sanskrit": "अत्र धृष्टकेतुः चेकितानः वीर्यवान् काशिराजः पुरुजित् कुन्तिभोजः च नरश्रेष्ठः शैब्यः च विद्यन्ते।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=2404&end=2456"
    },
    {
        chapter: 1,
        verse: 6,
        sanskrit: "युधामन्युश्च विक्रान्त उत्तमौजाश्च वीर्यवान् ।\nसौभद्रो द्रौपदेयाश्च सर्व एव महारथाः ॥६॥",
        translation: "yudhāmanyuś ca vikrānta\nuttamaujāś ca vīryavān\nsaubhadro draupadeyāś ca\nsarva eva mahā-rathāḥ",
        translationMeanings: [
            "Yudhāmanyu, who is mighty",
            "and Uttamaujā, who is very powerful",
            "the son of Subhadrā (Abhimanyu), and the sons of Draupadī",
            "all of them are certainly great chariot fighters"
        ],
        wordMeanings: {
            'युधामन्युश्च': 'yudhāmanyuś ca - Yudhāmanyu, and',
            'विक्रान्त': 'vikrāntaḥ - mighty',
            'उत्तमौजाश्च': 'uttamaujāś ca - Uttamaujā, and',
            'वीर्यवान्': 'vīrya-vān - very powerful',
            'सौभद्रो': 'saubhadraḥ - the son of Subhadrā',
            'द्रौपदेयाश्च': 'draupadeyāś ca -  The sons of Draupadī, and',
            'सर्व': 'sarve - all',
            'एव': 'eva - certainly',
            'महारथाः': 'mahā-rathāḥ - great chariot fighters'
        },
        fullTranslations: {
            "English": "There are the mighty Yudhāmanyu, the very powerful Uttamaujā, the son of Subhadrā, and the sons of Draupadī. All these warriors are great chariot fighters.",
            "Hindi": "महान योधा युधामन्यु, अत्यंत वीर उत्तमौजा, सुभद्रा का पुत्र अभिमन्यु और द्रौपदी के पुत्र - ये सभी महारथी हैं।",
            "Sanskrit": "युधामन्युश्च — युधामन्युः; विक्रान्तः — अत्यंत वीरः; उत्तमौजाश्च — उत्तमौजा; वीर्यवान् — शक्तिमान्; सौभद्रः — सुभद्रापुत्रः अभिमन्युः; द्रौपदेयाश्च — द्रौपदीपुत्राः; सर्व एव — ये सभी; महारथाः — महारथी"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=2457&end=3094"
    },
    {
        "chapter": 1,
        "verse": 7,
        "sanskrit": "अस्माकं तु विशिष्टा ये तान्निबोध द्विजोत्तम ।\nनायका मम सैन्यस्य संज्ञार्थ तान्ब्रवीमि ते ॥७॥",
        "translation": "asmākaṁ tu viśiṣṭā ye\ntān nibodha dvijottama\nnāyakā mama sainyasya\nsaṁjñārthaṁ tān bravīmi te",
        "translationMeanings": [
            "But those who are especially powerful among us",
            "Understand them, O best of the Brahmins",
            "The leaders of my army",
            "I am telling you about them for your information"
        ],
        "wordMeanings": {
            "अस्माकं": "asmākam - our",
            "तु": "tu - but",
            "विशिष्टा": "viśiṣṭāḥ - especially powerful",
            "ये": "ye - who",
            "तान्निबोध": "tān nibodha - just take note of them",
            "द्विजोत्तम": "dvijottama - O best of the brāhmaṇas",
            "नायका": "nāyakāḥ - captains",
            "मम": "mama - my",
            "सैन्यस्य": "sainyasya - of the soldiers",
            "संज्ञार्थ": "saṁjñārtham - for information",
            "तान्ब्रवीमि": "tān bravīmi - I am speaking to you about them",
            "ते": "te - to you"
        },
        "fullTranslations": {
            "English": "O best of the brāhmaṇas, understand those who are the notable captains of my army, which I now declare to you for your information.",
            "Hindi": "हे ब्राह्मणों में श्रेष्ठ, मेरी सेना के प्रमुख नायकों को जानो, जिनके बारे में मैं तुम्हें जानकारी देने के लिए अब वर्णन कर रहा हूँ।",
            "Sanskrit": "अस्माकं तु विशिष्टा ये तान्निबोध द्विजोत्तम । नायका मम सैन्यस्य संज्ञार्थ तान्ब्रवीमि ते ॥"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=3095&end=3567"
    },
    {
        "chapter": 1,
        "verse": 8,
        "sanskrit": "भवान्भीष्मश्च कर्णश्च कृपश्च समितिंजयः ।\nअश्वत्थामा विकर्णश्च सौमदत्तिस्तथैव च ॥८॥",
        "translation": "bhavān bhīṣmaś ca karṇaś ca\nkṛpaś ca samitiṁ-jayaḥ\naśvatthāmā vikarṇaś ca\nsaumadattis tathaiva ca",
        "translationMeanings": [
            "Your good self, and Bhīṣma, and Karṇa",
            "and Kṛpa, who is always victorious in battle",
            "Aśvatthāmā and Vikarṇa as well",
            "and also the son of Somadatta"
        ],
        "wordMeanings": {
            "भवान्भीष्मश्च": "bhavān bhīṣmaś ca - You and Bhīṣma",
            "कर्णश्च": "karṇaś ca - Karṇa, and",
            "कृपश्च": "kṛpaś ca - Kṛpa, and",
            "समितिंजयः": "samitim-jayaḥ - always victorious in battle",
            "अश्वत्थामा": "aśvatthāmā - Aśvatthāmā",
            "विकर्णश्च": "vikarṇaś ca - Vikarṇa, as well",
            "सौमदत्तिस्तथैव": "saumadattis tathaiva - the son of Somadatta, as well",
            "च": "ca - also"
        },
        "fullTranslations": {
            "English": "Your good self, and Bhīṣma, and Karṇa, and Kṛpa, always victorious in battle, and Aśvatthāmā, and Vikarṇa, as well as the son of Somadatta.",
            "Hindi": "आप, और भीष्म, और कर्ण, और कृप, जो सदैव युद्ध में विजयी रहते हैं, और अश्वत्थामा, और विकर्ण, साथ ही सौमदत्त के पुत्र भी।",
            "Sanskrit": "भवान् भीष्मः कर्णः कृपः समितिंजयः अश्वत्थामा विकर्णः सौमदत्तिस्तथैव च।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=3568&end=3938"
    },
    {
        "chapter": 1,
        "verse": 9,
        "sanskrit": "अन्ये च बहवः शूरा मदर्थे त्यक्तजीविताः ।\nनानाशस्त्रप्रहरणाः सर्वे युद्धविशारदाः ॥९॥",
        "translation": "anye ca bahavaḥ śūrā\nmad-arthe tyakta-jīvitāḥ\nnānā-śastra-praharaṇāḥ\nsarve yuddha-viśāradāḥ",
        "translationMeanings": [
            "Others also, in great numbers, [are] heroes",
            "For my sake, [they are] prepared to risk their lives",
            "Equipped with various weapons",
            "All of them are experienced in military science"
        ],
        "wordMeanings": {
            "अन्ये": "anye - others",
            "च": "ca - also",
            "बहवः": "bahavaḥ - in great numbers",
            "शूरा": "śūrāḥ - heroes",
            "मदर्थे": "mad-arthe - for my sake",
            "त्यक्तजीविताः": "tyakta-jīvitāḥ - prepared to risk life",
            "नानाशस्त्रप्रहरणाः": "nānā-śastra-praharaṇāḥ - equipped with various weapons",
            "सर्वे": "sarve - all of them",
            "युद्धविशारदाः": "yuddha-viśāradāḥ - experienced in military science"
        },
        "fullTranslations": {
            "English": "Others also, in great numbers, heroes, ready to lay down their lives for my sake, armed with various weapons, all experienced in military science.",
            "Hindi": "अन्य भी, बहुत संख्या में, वीर जो मेरे लिए अपनी जान देने को तैयार हैं, विविध शस्त्रों से सुसज्जित, सभी युद्ध विज्ञान में अनुभवी हैं।",
            "Sanskrit": "अन्ये च बहवः शूरा मदर्थे त्यक्तजीविताः नानाशस्त्रप्रहरणाः सर्वे युद्धविशारदाः।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=3939&end=4710"
    },
    {
        "chapter": 1,
        "verse": 10,
        "sanskrit": "अपर्याप्त‍ं तदस्माकं बलं भीष्माभिरक्षितम् ।\nपर्याप्त‍ं त्विदमेतेषां बलं भीमाभिरक्षितम् ॥१०॥",
        "translation": "aparyāptaṁ tad asmākaṁ\nbalaṁ bhīṣmābhirakṣitam\nparyāptaṁ tv idam eteṣāṁ\nbalaṁ bhīmābhirakṣitam",
        "translationMeanings": [
            "That our strength is immeasurable",
            "The strength, perfectly protected by Bhīṣma",
            "But this strength of theirs is sufficient",
            "The strength, carefully protected by Bhīma"
        ],
        "wordMeanings": {
            "अपर्याप्त‍ं": "aparyāptam - immeasurable",
            "तदस्माकं": "tad asmākaṁ - that of ours",
            "बलं": "balaṁ - strength",
            "भीष्माभिरक्षितम्": "bhīṣmābhirakṣitam - perfectly protected by Bhīṣma",
            "पर्याप्त‍ं": "paryāptam - limited",
            "त्विदमेतेषां": "tv idam eteṣāṁ - but this of the Pāṇḍavas",
            "भीमाभिरक्षितम्": "bhīmābhirakṣitam - carefully protected by Bhīma"
        },
        "fullTranslations": {
            "English": "That our strength is immeasurable, perfectly protected by Grandfather Bhīṣma, whereas the strength of the Pāṇḍavas is limited, though carefully protected by Bhīma.",
            "Hindi": "हमारी शक्ति अपरिमित है, जिसे भीष्म द्वारा पूरी तरह से सुरक्षित किया गया है, जबकि पांडवों की शक्ति सीमित है, फिर भी भीम द्वारा सावधानीपूर्वक सुरक्षित है।",
            "Sanskrit": "अपर्याप्तं तदस्माकं बलं भीष्माभिरक्षितम् पर्याप्तं त्विदमेतेषां बलं भीमाभिरक्षितम्।"
        },
        "youtubeLink": "https://www.youtube.com/embed/Gv5qMRHgEps?start=4711&end=5461"
    } 
];

let currentVerseIndex = 0;

function displayVerse(index) {
    const verse = verses[index];
    const container = document.getElementById('phrase-container');
    container.innerHTML = ''; // Clear previous content

    document.getElementById('chapter-verse').textContent = `Chapter ${verse.chapter}, Verse ${verse.verse}`;

    const phraseElement = document.createElement('div');
    phraseElement.className = 'phrase';
    
    const sanskritElement = document.createElement('div');
    sanskritElement.className = 'sanskrit';

    const wordsContainer = document.createElement('div');
    wordsContainer.className = 'words-container';

    const sanskritLines = verse.sanskrit.split('\n');
    sanskritLines.forEach(line => {
        const words = line.split(' ');
        words.forEach(word => {
            const cleanedWord = word.trim().replace(/[।॥]/g, '');
            const wordElement = document.createElement('div');
            wordElement.className = 'word-meaning-pair';

            const wordSpan = document.createElement('span');
            wordSpan.className = 'sanskrit-word';
            wordSpan.textContent = word;

            const meaningSpan = document.createElement('span');
            meaningSpan.className = 'word-meaning';
            meaningSpan.textContent = verse.wordMeanings[cleanedWord] || '';

            wordElement.appendChild(wordSpan);
            wordElement.appendChild(meaningSpan);
            wordsContainer.appendChild(wordElement);
        });
    });

    sanskritElement.appendChild(wordsContainer);

    const translationElement = document.createElement('div');
    translationElement.className = 'translation';

    const translationLines = verse.translation.split('\n');
    translationLines.forEach((line, i) => {
        const lineElement = document.createElement('div');
        lineElement.className = 'translation-line';
        lineElement.innerHTML = `<span>${line}</span>`;

        const meaningElement = document.createElement('div');
        meaningElement.className = 'translation-meaning';
        meaningElement.textContent = verse.translationMeanings[i];

        translationElement.appendChild(lineElement);
        lineElement.appendChild(meaningElement);
    });

    phraseElement.appendChild(sanskritElement);
    phraseElement.appendChild(translationElement);
    container.appendChild(phraseElement);

    // Create the translation select element
    const selectElement = document.createElement('select');
    const dvwpElement = document.createElement('div');
    dvwpElement.innerHTML = `<b style="padding: 10px; border-radius: 4px; background-color: #cccccc;">Translation Language:</b>&nbsp;&nbsp;`;
    dvwpElement.appendChild(selectElement);
    selectElement.id = 'translation-select';

    Object.keys(verse.fullTranslations).forEach(key => {
        const option = document.createElement('option');
        option.value = key;
        option.textContent = key;
        selectElement.appendChild(option);
    });

    // Display the default full translation
    const fullTranslationElement = document.createElement('div');
    fullTranslationElement.className = 'full-translation';
    fullTranslationElement.textContent = verse.fullTranslations["English"];

    // Update the full translation based on the selected option
    selectElement.addEventListener('change', () => {
        fullTranslationElement.textContent = verse.fullTranslations[selectElement.value];
    });

    container.appendChild(dvwpElement);
    container.appendChild(fullTranslationElement);

    // YouTube link code
    if (verse.youtubeLink && verse.youtubeLink.trim() !== "") {
        const videoContainer = document.createElement('div');
        videoContainer.className = 'video-container';
    
        const iframe = document.createElement('iframe');
        iframe.src = verse.youtubeLink;
        iframe.title = "YouTube video player";
        iframe.frameBorder = "0";
        iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
        iframe.referrerPolicy = "strict-origin-when-cross-origin";
        iframe.allowFullscreen = true;
    
        videoContainer.appendChild(iframe);
        container.appendChild(videoContainer);
    }
}

// Function to update navigation buttons (including side buttons)
function updateNavigationButtons() {
    const prevBtnSide = document.getElementById('prev-btn-side');
    const nextBtnSide = document.getElementById('next-btn-side');

    prevBtnSide.style.display = currentVerseIndex === 0 ? 'none' : 'block';
    nextBtnSide.style.display = currentVerseIndex === verses.length - 1 ? 'none' : 'block';
}

// Navigation functions
function navigateToPreviousVerse() {
    if (currentVerseIndex > 0) {
        currentVerseIndex--;
        displayVerse(currentVerseIndex);
        updateNavigationButtons();
    }
}

function navigateToNextVerse() {
    if (currentVerseIndex < verses.length - 1) {
        currentVerseIndex++;
        displayVerse(currentVerseIndex);
        updateNavigationButtons();
    }
}

// Initialize the page and add event listeners
document.addEventListener('DOMContentLoaded', () => {
    displayVerse(currentVerseIndex);
    updateNavigationButtons();

    document.getElementById('prev-btn-side').addEventListener('click', navigateToPreviousVerse);
    document.getElementById('next-btn-side').addEventListener('click', navigateToNextVerse);
});
